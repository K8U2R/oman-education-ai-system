# ููุงุฉ ุงูุฅุดุนุงุฑุงุช (Notification Channel) ๐

ุชุชุนุงูู ููุงุฉ ุงูุฅุดุนุงุฑุงุช ูุน ุงูุชูุจููุงุช ุฏุงุฎู ุงูุชุทุจููุ ุจูุง ูู ุฐูู ุงูุชุญุฏูุซุงุช ุงูููุฑูุฉ ุนุจุฑ ุงูุฃุญุฏุงุซ ุงููุฑุณูุฉ ูู ุงูุฎุงุฏู (SSE) ูุงูุชุฎุฒูู ุงูุฏุงุฆู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช.

## ๐ ุงููููุน
`apps/backend/src/presentation/api/handlers/communication/channels/notification/`

## ุงููุฏุฑุงุช ุงูุฑุฆูุณูุฉ
*   **ุจุซ ูู ุงูููุช ุงููุนูู**: ููุทุฉ ููุงูุฉ SSE ููุชุญุฏูุซุงุช ุงููุจุงุดุฑุฉ.
*   **ุณุฌู ุฏุงุฆู**: ุนูููุงุช CRUD ูุณุฌู ุงูุฅุดุนุงุฑุงุช.
*   **ุฅูุตุงูุงุช ุงููุฑุงุกุฉ**: ุชุชุจุน ุญุงูุฉ ุงููุฑุงุกุฉ/ุนุฏู ุงููุฑุงุกุฉ.

## ูุฑุฌุน ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช (API Reference)

### 1. ุฌูุจ ุงูุฅุดุนุงุฑุงุช
ุงุณุชุฑุฌุงุน ูุงุฆูุฉ ูููุฑุณุฉ ุจุงูุฅุดุนุงุฑุงุช ูููุณุชุฎุฏู ุงููุตุงุฏู ุนููู.

*   **ููุทุฉ ุงูููุงูุฉ**: `GET /api/v1/notifications`
*   **ูุนููุงุช ุงูุงุณุชุนูุงู**:
    *   `page` (ุฑููุ ุงูุงูุชุฑุงุถู: 1)
    *   `per_page` (ุฑููุ ุงูุงูุชุฑุงุถู: 20)
    *   `status` (ุณูุณูุฉ ูุตูุฉุ ุงุฎุชูุงุฑู: "read" | "unread")
    *   `type` (ุณูุณูุฉ ูุตูุฉุ ุงุฎุชูุงุฑู: "info" | "warning" | "error")

### 2. ุจุซ ุงูุฅุดุนุงุฑุงุช (SSE)
ุชุฃุณูุณ ุงุชุตุงู ุทููู ุงูุฃูุฏ ููุชุญุฏูุซุงุช ุงูููุฑูุฉ.

*   **ููุทุฉ ุงูููุงูุฉ**: `GET /api/v1/notifications/stream`
*   **ุงูุชุฑููุณุงุช (Headers)**:
    *   `Accept: text/event-stream`
    *   `Authorization: Bearer <token>`
*   **ุงูุฃุญุฏุงุซ (Events)**:
    *   `connected`: ูุฌุงุญ ุงูุงุชุตุงู ุงูุฃููู.
    *   `newNotification`: ูุชู ุชุดุบููู ุนูุฏ ุฅูุดุงุก ุฅุดุนุงุฑ ุฌุฏูุฏ.
    *   `notificationUpdated`: ูุชู ุชุดุบููู ุนูุฏ ุชุบููุฑ ุงูุญุงูุฉ (ูุซู ุงููุฑุงุกุฉ).

### 3. ุชุญุฏูุฏ ูููุฑูุก
ุชุญุฏูุซ ุญุงูุฉ ุฅุดุนุงุฑ ูุญุฏุฏ.

*   **ููุทุฉ ุงูููุงูุฉ**: `PATCH /api/v1/notifications/:id/read`
*   **ุงูุงุณุชุฌุงุจุฉ**: `200 OK`

### 4. ุชุญุฏูุฏ ุงููู ูููุฑูุก
ุชุญุฏูุซ ุฌูุงุนู ูุฌููุน ุงูุฅุดุนุงุฑุงุช ุบูุฑ ุงูููุฑูุกุฉ ูููุณุชุฎุฏู.

*   **ููุทุฉ ุงูููุงูุฉ**: `PATCH /api/v1/notifications/read-all`
*   **ุงูุงุณุชุฌุงุจุฉ**: `200 OK`

## ุงูุชุญูู ูู ุงููุฎุทุท (Schema Validation)
ููุนุฑู ูู `notification.schema.ts`.

```typescript
export const getNotificationsSchema = z.object({
    page: z.coerce.number().min(1).default(1),
    per_page: z.coerce.number().min(1).max(100).default(20),
    status: z.enum(["read", "unread"]).optional(),
    type: z.string().optional(),
});
```
