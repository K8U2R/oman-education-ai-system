/**
 * App Shell Layout Styles
 * @law Law-6 (Visual Sovereign) - OKLCH tokens
 * @law Law-9 (Documentation)
 */

@use '../abstracts/mixins' as *;
@use '../abstracts/variables' as *;
@use '../abstracts/tokens' as *;

// ============================================================================
// App Shell Layout Styles
// ============================================================================

.app-shell {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    background: var(--color-bg-app);

    &__layout {
        flex: 1;
        display: flex;
        min-height: 0;
    }

    &__sidebar {
        width: var(--sidebar-width);
        background: var(--color-bg-surface);
        border-inline-end: 1px solid var(--color-border);
        transition: width var(--transition-base);

        @media (max-width: $breakpoint-lg) {
            position: fixed;
            top: 0;
            bottom: 0;
            inset-inline-start: -100%;
            z-index: var(--z-modal);
            transition: inset-inline-start var(--transition-base);

            &.is-open {
                inset-inline-start: 0;
            }
        }
    }

    &--collapsed &__sidebar {
        width: var(--sidebar-collapsed-width);
    }

    &__main {
        flex: 1;
        min-width: 0;
        display: flex;
        flex-direction: column;
    }

    &__content {
        flex: 1;
        padding: var(--space-lg);

        @media (max-width: $breakpoint-sm) {
            padding: var(--space-md);
        }
    }

    &__overlay {
        display: none;

        @media (max-width: $breakpoint-lg) {
            &.is-active {
                display: block;
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: rgba(0, 0, 0, 0.5);
                z-index: calc(var(--z-modal) - 10);
            }
        }
    }
}
