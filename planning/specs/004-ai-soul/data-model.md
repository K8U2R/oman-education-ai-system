# Data Model: AI Soul

**Feature**: 004-ai-soul

## Entities

### 1. LessonPlan (Generated Content)
Represents a structured lesson plan generated by the AI for a teacher.

```typescript
interface LessonPlan {
  id: string;              // UUID
  topic: string;           // "Fraction Addition"
  subject: string;         // "Mathematics"
  gradeLevel: string;      // "Grade 4"
  language: "ar" | "en";
  
  // Structured Content (AI Output)
  content: {
    objectives: string[];        // Learning goals
    introduction: string;        // Hook/Intro
    mainActivity: string;        // Core lesson
    assessment: string;          // Quiz/Questions
    homework: string;            // Follow-up
  };

  metadata: {
    modelUsed: string;     // "deepseek-r1:8b" or "mock"
    generationTimeMs: number;
    promptVersion: string;
  };

  createdAt: Date;
  createdBy: string;       // Teacher User ID
}
```

### 2. AIChatSession (Software Development)
Represents a chat session for a student learning coding.

```typescript
interface AIChatSession {
  id: string;
  userId: string;
  context: "code_review" | "explanation";
  messages: Array<{
    role: "user" | "assistant" | "system";
    content: string;
    timestamp: Date;
  }>;
}
```

## Validation Schemas (Zod)

We will enforce strict Zod validation on the AI output to ensure `content` matches the UI expectations.

```typescript
const LessonContentSchema = z.object({
  objectives: z.array(z.string()),
  introduction: z.string(),
  mainActivity: z.string(),
  assessment: z.string(),
  homework: z.string()
});
```
